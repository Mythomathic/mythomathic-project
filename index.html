<!DOCTYPE html>
  <head>
    
    <meta charset="UTF-8">

    <title>Mythomathic - Inici de sessi贸</title>
    
  <link rel="stylesheet" href="css/style.css">
    
  </head>

  <body>
    
     <h1>Benvingut a Mythomathic</h1>

  <h2>Inicia sessi贸</h2>
    
  <form id="login-form">
    <input type="email" id="login-email" placeholder="Correu electr貌nic" required>
    <input type="password" id="login-password" placeholder="Contrasenya" required>
    <button type="submit">Entrar</button>
  </form>

  <h2>O crea un compte</h2>
  <form id="register-form">
    <input type="email" id="register-email" placeholder="Correu electr貌nic" required>
    <input type="password" id="register-password" placeholder="Contrasenya" required>
    <button type="submit">Registrar-se</button>
  </form>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword }
        from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

    //  Configuraci贸 Firebase
   const firebaseConfig = {
    apiKey: "AIzaSyDPVUQZXaSAARwROsDgvlohMvB-esYvMrA",
    authDomain: "mythomathic.firebaseapp.com",
    projectId: "mythomathic",
    storageBucket: "mythomathic.firebasestorage.app",
    messagingSenderId: "396574593247",
    appId: "1:396574593247:web:5b7f02c53de5613eda996a",
    measurementId: "G-P649F73C8E"
  };

    // Inicialitzar Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);

    // Registrar-se
    document.getElementById("register-form").addEventListener("submit", function(e) {
        e.preventDefault();
        const email = document.getElementById("register-email").value;
        const password = document.getElementById("register-password").value;

        createUserWithEmailAndPassword(auth, email, password)
            .then(function(userCredential) {
                console.log("Usuari creat:", userCredential.user);
                alert("Compte creat correctament!"); 
              window.location.href = "intro.html";
            })
            .catch(function(error) {
                alert("Error: " + error.message);
            });
    });

    // Iniciar sessi贸
    document.getElementById("login-form").addEventListener("submit", function(e) {
        e.preventDefault();
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;

        signInWithEmailAndPassword(auth, email, password)
            .then(function(userCredential) {
                console.log("Sessi贸 iniciada:", userCredential.user);
                alert("Has iniciat sessi贸 correctament!");
            })
            .catch(function(error) {
                alert("Error: " + error.message);
            });
    });
</script>

</body>
</html>
