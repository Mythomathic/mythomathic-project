<!DOCTYPE html> 
<html lang="ca">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapa - Mythomathic</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="map.css">
</head>
<body>

<header>
    <img src="Title.png" alt="Mythomathic logo" class="title-logo">
    <nav id="menu">
        <button>☰ Menú</button>
        <ul>
            <li id="menu-profile"></li>
            <li id="menu-config"></li>
            <li id="menu-about"></li>
            <li id="menu-contact"></li>
        </ul>
    </nav>
</header>

<div class="map-container">
    <!-- Portals -->
    <div id="portal-secuentia" class="portal big side-right" style="top: 15%; left: 12%;">
        <img src="Sec.png" alt="Portal Secuentia">
        <div class="tooltip secuentia" id="tooltip-secuentia"></div>
    </div>

    <div id="portal-realithia" class="portal side-left" style="top: 57%; left: 47%;">
        <img src="Re.png" alt="Portal Realithia">
        <div class="tooltip realithia" id="tooltip-realithia"></div>
    </div>

    <div id="portal-tangentia" class="portal big side-right" style="top: 15%; left: 75%;">
        <img src="Tan.png" alt="Portal Tangentia">
        <div class="tooltip tangentia" id="tooltip-tangentia"></div>
    </div>

    <div id="portal-complexia" class="portal big" style="top: 50%; left: 77%;">
        <img src="Co.png" alt="Portal Complexia">
        <div class="tooltip complexia" id="tooltip-complexia"></div>
    </div>

    <div id="portal-derivalia" class="portal big" style="top: 55%; left: 18%;">
        <img src="De.png" alt="Portal Derivalia">
        <div class="tooltip derivalia" id="tooltip-derivalia"></div>
    </div>

    <div id="portal-ekuatia" class="portal side-left" style="top: 20%; left: 50%;">
        <img src="Ek.png" alt="Portal Ekuatia">
        <div class="tooltip ekuatia" id="tooltip-ekuatia"></div>
    </div>

    <div id="portal-functonia" class="portal big side-right" style="top: 79%; left: 16%;">
        <img src="Fun.png" alt="Portal Functonia">
        <div class="tooltip functonia" id="tooltip-functonia"></div>
    </div>

    <div id="portal-probathenia" class="portal side-right" style="top: 80%; left: 77%;">
        <img src="Pro.png" alt="Portal Probathénia">
        <div class="tooltip probathenia" id="tooltip-probathenia"></div>
    </div>

    <div id="portal-vectonia" class="portal side-left" style="top: 86%; left: 47%;">
        <img src="Vec.png" alt="Portal Vectonia">
        <div class="tooltip vectonia" id="tooltip-vectonia"></div>
    </div>
</div>


<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDPVUQZXaSAARwROsDgvlohMvB-esYvMrA",
  authDomain: "mythomathic.firebaseapp.com",
  projectId: "mythomathic",
  storageBucket: "mythomathic.firebasestorage.app",
  messagingSenderId: "396574593247",
  appId: "1:396574593247:web:5b7f02c53de5613eda996a",
  measurementId: "G-P649F73C8E"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const texts = {
  ca: { profile: "Perfil", config: "Configuració", about: "Sobre mi", contact: "Contacte" },
  es: { profile: "Perfil", config: "Configuración", about: "Sobre mí", contact: "Contacto" },
  en: { profile: "Profile", config: "Settings", about: "About Me", contact: "Contact" }
};

const portalTooltips = {
  secuentia: {
    ca: "🌻 <b>Secuentia</b><br>Bosc daurat on regnen les seqüències i progressions eternes.",
    es: "🌻 <b>Secuentia</b><br>Bosque dorado donde reinan las secuencias y progresiones eternas.",
    en: "🌻 <b>Secuentia</b><br>Golden forest where sequences and eternal progressions reign."
  },
  realithia: {
    ca: "🌌 <b>Realithia</b><br>Regne dels nombres reals, radicals, logaritmes i potències, amb un majestuós i misteriós palau.",
    es: "🌌 <b>Realithia</b><br>Reino de los números reales, radicales, logaritmos y potencias, con un majestuoso y misterioso palacio.",
    en: "🌌 <b>Realithia</b><br>Kingdom of real numbers, radicals, logarithms and powers, with a majestic and mysterious palace."
  },
  tangentia: {
    ca: "📐<b>Tangentia</b><br>Illes on regna la trigonometria i els triangles, envoltades de misteri.",
    es: "📐<b>Tangentia</b><br>Islas donde reina la trigonometría y los triángulos, envueltas de misterio.",
    en: "📐<b>Tangentia</b><br>Islands where trigonometry and triangles reign, surrounded by mystery."
  },
  ekuatia: {
    ca: "⚙️ <b>Ekuatia</b><br>Ciutat-biblioteca d’engranatges i vapor, plena d’equacions i sistemes.",
    es: "⚙️ <b>Ekuatia</b><br>Ciudad-biblioteca de engranajes y vapor, llena de ecuaciones y sistemas.",
    en: "⚙️ <b>Ekuatia</b><br>Gear-and-steam library city, full of equations and systems."
  },
  complexia: {
    ca: "<img src='purple-fire.png' style='width:15%;height:auto;'/> <b>Complexia</b><br>Dimensió del foc i la foscor, on dominen els nombres complexos.",
    es: "<img src='purple-fire.png' style='width:15%;height:auto;'/> <b>Complexia</b><br>Dimensión del fuego y la oscuridad, dominada por los números complejos.",
    en: "<img src='purple-fire.png' style='width:15%;height:auto;'/> <b>Complexia</b><br>Dimension of fire and darkness, dominated by complex numbers."
  },
  derivalia: {
    ca: "〰️<b>Derivalia</b><br>Món on tot flueix amb derivades i corbes infinites.",
    es: "〰️<b>Derivalia</b><br>Mundo donde todo fluye con derivadas y curvas infinitas.",
    en: "〰️<b>Derivalia</b><br>World where everything flows with derivatives and infinite curves."
  },
  functonia: {
    ca: "📈<b>Functonia</b><br>Dimensió futurista dedicada a les funcions i els seus patrons.",
    es: "📈<b>Functonia</b><br>Dimensión futurista dedicada a las funciones y sus patrones.",
    en: "📈<b>Functonia</b><br>Futuristic dimension dedicated to functions and their patterns."
  },
  probathenia: {
    ca: "🎲<b>Probathénia</b><br>Món del caos i les probabilitats infinites.",
    es: "🎲<b>Probathénia</b><br>Mundo del caos y las probabilidades infinitas.",
    en: "🎲<b>Probathénia</b><br>World of chaos and infinite probabilities."
  },
  vectonia: {
    ca: "↗️ <b>Vectonia</b><br>Dimensió dels vectors i les transformacions espai-temporals.",
    es: "↗️ <b>Vectonia</b><br>Dimensión de vectores y transformaciones espacio-temporales.",
    en: "↗️ <b>Vectonia</b><br>Dimension of vectors and space-time transformations."
  }
};

// Menu desplegable
document.querySelector('#menu button').addEventListener('click', () => document.getElementById('menu').classList.toggle('active'));

onAuthStateChanged(auth, async (user) => { if (!user) { window.location.href = "inici.html"; return; }

  const ref = doc(db, "users", user.uid);
  const snap = await getDoc(ref);
  const lang = snap.exists() && snap.data().language ? snap.data().language : "ca";

  // Menu
  document.getElementById("menu-profile").textContent = texts[lang].profile;
  document.getElementById("menu-profile").onclick = () => window.location.href = "perfil.html";
  document.getElementById("menu-config").textContent = texts[lang].config;
  document.getElementById("menu-config").onclick = () => window.location.href = "config.html";
  document.getElementById("menu-about").textContent = texts[lang].about;
  document.getElementById("menu-about").onclick = () => window.location.href = "sobremi.html";
  document.getElementById("menu-contact").textContent = texts[lang].contact;
  document.getElementById("menu-contact").onclick = () => window.location.href = "contacte.html";

  // Tooltips
  for (const portalId in portalTooltips) {
    const el = document.getElementById(`tooltip-${portalId}`);
    if (el) el.innerHTML = portalTooltips[portalId][lang];
  } });

  // Portals clic
const portalMap = {
  "portal-secuentia": "secuentia.html",
  "portal-realithia": "realithia.html",
  "portal-tangentia": "tangentia.html",
  "portal-complexia": "complexia.html",
  "portal-derivalia": "derivalia.html",
  "portal-ekuatia": "ekuatia.html",
  "portal-functonia": "functonia.html",
  "portal-probathenia": "probathénia.html",
  "portal-vectonia": "vectonia.html"
};

for (const id in portalMap) {
  const el = document.getElementById(id);
  if (el) el.addEventListener("click", () => window.location.href = portalMap[id]);
}

</script>

</body>
</html>



